# README自动化更新方案

## 问题背景

之前的设计需要大家手动记录谁添加了什么资料，但实际使用中发现：
1. 大家不愿意留名字
2. 手动维护容易遗漏
3. 内容容易变乱

## 解决方案

采用**自动化脚本**的方式，根据文件命名自动生成资料描述，无需手动记录。

## 核心思路

1. **移除"资料扩展记录"部分**：不再需要手动记录谁添加了什么
2. **自动扫描目录**：脚本自动扫描每个课程目录下的所有文件
3. **智能分类和描述**：根据文件名和路径自动识别文件类型并生成描述
4. **一键更新**：运行脚本即可更新所有README

## 文件说明

### 1. `更新README资料.py` - 主脚本

**功能**：
- 扫描所有课程目录
- 根据文件名自动分类（作业、实验、报告、课件等）
- 自动生成简洁的文件描述
- 更新README的"资料介绍"部分

**使用方法**：
```bash
python 更新README资料.py
```

### 2. `运行更新README.bat` - 批处理文件

**功能**：方便Windows用户双击运行脚本

**使用方法**：直接双击即可

### 3. `移除资料扩展记录.py` - 清理脚本

**功能**：批量移除所有README中的"资料扩展记录"部分

**使用方法**：
```bash
python 移除资料扩展记录.py
```

## 工作流程

### 日常使用流程

1. **添加资料**：直接将文件/文件夹放入对应的课程目录
2. **运行脚本**：双击 `运行更新README.bat` 或运行 `python 更新README资料.py`
3. **自动更新**：脚本自动更新所有README的"资料介绍"部分

### 文件命名建议

为了让脚本更好地识别文件类型，建议使用以下命名方式：

| 文件类型 | 推荐命名 | 示例 |
|---------|---------|------|
| 作业 | 包含"作业"、"homework"、"hw" | `作业1.pdf`、`homework2.docx` |
| 实验 | 包含"实验"、"exp"、"lab" | `实验1/`、`exp2/`、`lab3/` |
| 期末 | 包含"期末"、"final"、"exam" | `期末报告.pdf`、`final_exam/` |
| 报告 | 包含"报告"、"report" | `课程报告.docx`、`report.pdf` |
| 课件 | 包含"课件"、"ppt"、"slides" | `第1章.ppt`、`lecture_slides.pptx` |
| 教材 | 包含"教材"、"textbook"、"book" | `数字图像处理教材.pdf` |

## 脚本特性

### 1. 智能分类

脚本会根据以下规则自动分类文件：

- **关键词匹配**：检查文件名和路径中是否包含特定关键词
- **文件扩展名**：根据文件类型（.pdf、.docx、.py等）判断
- **目录结构**：识别子目录中的文件并归类

### 2. 自动清理

- 移除文件名中的学号（如22354010）
- 移除多余的连字符和下划线
- 简化路径描述

### 3. 限制显示

- 每个类别最多显示15项
- 超过的会显示"还有X项"的提示
- 避免README过长

## 示例效果

### 更新前

```markdown
### 已有资料

- **作业资料**：包含第二次、第三次、第四次作业的文档和PDF

### 资料扩展记录

> 当有新的资料被添加到本目录时，请在此处记录...
```

### 更新后

```markdown
### 已有资料

- **作业**：
  - 第二次作业
  - 第三次作业
  - 第四次作业
- **期末实验**：常毅成-期末实验代码（MATLAB代码和结果图片）
- **期末复习**：期末复习资料（包含多张复习图片）
- **教材**：数字图像处理（第四版）PDF教材
```

## 优势

1. ✅ **无需手动记录**：添加资料后运行脚本即可
2. ✅ **自动分类**：根据文件名智能分类
3. ✅ **保持整洁**：自动格式化，内容不会乱
4. ✅ **隐私友好**：不需要留名字
5. ✅ **易于使用**：双击批处理文件即可

## 注意事项

1. **文件命名**：使用规范的命名可以让脚本更好地识别文件类型
2. **定期更新**：建议每次添加资料后运行一次脚本
3. **备份**：脚本会直接修改README文件，建议使用Git等版本控制
4. **自定义**：可以在脚本的 `FILE_CATEGORIES` 字典中添加更多关键词

## 未来改进

可以考虑的功能：

1. **Git钩子**：在提交前自动运行脚本
2. **增量更新**：只更新有变化的目录
3. **更智能的描述**：使用AI生成更详细的文件描述
4. **Web界面**：提供网页界面方便使用

## 总结

这个方案解决了以下问题：
- ✅ 不需要手动记录谁添加了什么
- ✅ 内容自动保持整洁
- ✅ 方便大家补充资料
- ✅ 根据文件命名自动生成描述

只需要添加资料后运行脚本，README就会自动更新！
