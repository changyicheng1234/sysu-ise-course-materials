# README 更新脚本使用说明

## 📝 功能说明

`更新README资料.py` 脚本用于自动更新各课程目录下的 README.md 文件中的"已有资料"部分。

**重要特性**：
- ✅ **只更新"已有资料"部分**：脚本只会更新资料列表，不会修改"选课建议"部分
- ✅ **保留选课建议**："选课建议"部分完全由手动编辑，脚本不会触碰
- ✅ **智能分类**：根据文件名自动识别文件类型（作业、实验、报告等）

## 🚀 使用方法

### 方法一：双击批处理文件（Windows，推荐）

直接双击 `运行更新README.bat` 文件，脚本会自动运行并更新所有课程的 README。

### 方法二：命令行运行

```bash
python 更新README资料.py
```

## 📋 工作流程

### 日常使用流程

1. **添加资料**：将文件/文件夹放入对应的课程目录
2. **运行脚本**：双击 `运行更新README.bat` 或运行 `python 更新README资料.py`
3. **检查更新**：查看 README 中的"已有资料"部分是否已更新
4. **手动编辑选课建议**（如需要）：直接编辑 README 的"选课建议"部分
5. **提交到 GitHub**：
   ```bash
   git add .
   git commit -m "更新课程资料"
   git push
   ```

## 🔍 脚本工作原理

### 1. 文件扫描

- 扫描所有课程目录（有 README.md 的目录）
- 递归扫描子目录（最多3层）
- 忽略系统文件和临时文件

### 2. 文件分类

根据以下规则自动分类：
- **关键词匹配**：检查文件名中的关键词（作业、实验、期末等）
- **文件扩展名**：根据文件类型判断
- **目录结构**：识别子目录中的文件

### 3. 更新 README

- ✅ **更新**："已有资料"部分
- ❌ **不更新**："选课建议"部分（完全保留）
- ✅ **清理**：移除旧的"资料扩展记录"部分

## 📝 README 结构

每个课程的 README.md 文件结构如下：

```markdown
# 课程名称

## 选课建议

> （这部分只能手动编辑，脚本不会修改）

## 资料介绍

> 💡 **提示**：本目录的资料列表由脚本自动生成...

### 已有资料

- **作业**：...
- **实验**：...
（这部分由脚本自动更新）
```

## 📋 文件命名建议

为了让脚本更好地识别文件类型，建议使用以下命名：

| 文件类型 | 推荐命名 | 示例 |
|---------|---------|------|
| 作业 | 包含"作业"、"homework"、"hw" | `作业1.pdf`、`homework2.docx` |
| 实验 | 包含"实验"、"exp"、"lab" | `实验1/`、`exp2/`、`lab3/` |
| 期末 | 包含"期末"、"final"、"exam" | `期末报告.pdf`、`final_exam/` |
| 报告 | 包含"报告"、"report" | `课程报告.docx`、`report.pdf` |
| 课件 | 包含"课件"、"ppt"、"slides" | `第1章.ppt`、`lecture_slides.pptx` |
| 教材 | 包含"教材"、"textbook"、"book" | `数字图像处理教材.pdf` |

## ⚠️ 注意事项

1. **选课建议不会被修改**：
   - 脚本只会更新"已有资料"部分
   - "选课建议"部分需要手动编辑
   - 脚本运行后，选课建议的内容完全保留

2. **文件命名**：
   - 使用规范的命名可以让脚本更好地识别文件类型
   - 建议移除文件名中的学号、姓名等个人信息

3. **定期更新**：
   - 建议每次添加资料后运行一次脚本
   - 然后再手动编辑选课建议（如需要）

4. **备份**：
   - 脚本会直接修改 README 文件
   - 建议使用 Git 进行版本控制
   - 运行前可以提交当前更改

## 🐛 常见问题

**Q: 脚本会修改我的选课建议吗？**  
A: 不会。脚本只会更新"已有资料"部分，"选课建议"部分完全保留。

**Q: 如何只更新某个课程的 README？**  
A: 可以修改脚本的 `main()` 函数，指定要更新的目录：

```python
# 只更新特定课程
course_dir = BASE_PATH / "课程名称"
update_readme(course_dir)
```

**Q: 文件分类不正确怎么办？**  
A: 可以在脚本的 `FILE_CATEGORIES` 字典中添加更多关键词，或者修改文件名使其包含相应的关键词。

**Q: 脚本会删除我的文件吗？**  
A: 不会。脚本只读取和更新 README.md 文件，不会删除或修改任何其他文件。

## 📖 相关文档

- [贡献指南](CONTRIBUTING.md) - 如何贡献内容
- [项目维护指南](项目维护指南.md) - 项目维护说明

---

**记住**：脚本只更新资料列表，选课建议需要手动编辑！
